!function(){var e={};(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var t=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},n=Object.prototype.toString,r=Object.prototype.toString,o=Object.prototype.hasOwnProperty,i={};(i=i=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},i.right=function(e){return e.replace(/\s*$/,"")};var s=function(e){if(!e)return{};var n={};return function(e,n,i){if(!t(n))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===r.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&t.call(n,e[r],r,e)}(e,n,i):"string"==typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}(e,n,i):function(e,t,n){for(var r in e)o.call(e,r)&&t.call(n,e[r],r,e)}(e,n,i)}(i(e).split("\n"),function(e){var t,r=e.indexOf(":"),o=i(e.slice(0,r)).toLowerCase(),s=i(e.slice(r+1));void 0===n[o]?n[o]=s:(t=n[o],"[object Array]"===Object.prototype.toString.call(t)?n[o].push(s):n[o]=[n[o],s])}),n},a=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)u.call(n,r)&&(e[r]=n[r])}return e},u=Object.prototype.hasOwnProperty,c={};function l(e,n,r){var o=e;return t(n)?(r=n,"string"==typeof e&&(o={uri:e})):o=a(n,{uri:e}),o.callback=r,o}function d(e,t,n){return f(t=l(e,t,n))}function f(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,o){t||(t=!0,e.callback(n,r,o))};function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function o(){if(!a){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=v,o=null;return 0!==t?(r={body:function(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),y)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:f,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(r.headers=s(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var i,a,u=e.xhr||null;u||(u=e.cors||e.useXDR?new d.XDomainRequest:new d.XMLHttpRequest);var c,l=u.url=e.uri||e.url,f=u.method=e.method||"GET",h=e.body||e.data,p=u.headers=e.headers||{},m=!!e.sync,y=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:l,rawRequest:u};if("json"in e&&!1!==e.json&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){a=!0},u.ontimeout=r,u.open(f,l,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout(function(){if(!a){a=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),u.setRequestHeader)for(i in p)p.hasOwnProperty(i)&&u.setRequestHeader(i,p[i]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(h||null),u}(c=d).default=d,d.XMLHttpRequest=e.XMLHttpRequest||function(){},d.XDomainRequest="withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:e.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){d["delete"===e?"del":e]=function(t,n,r){return(n=l(t,n,r)).method=e.toUpperCase(),f(n)}});var h={exports:{}},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";"object"===p(h)&&"object"===p(h.exports)?h.exports=e():"function"==typeof define&&null!=define.amd?define([],e):self.sanctuaryTypeIdentifiers=e()}(function(){"use strict";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor["@@type"]?e.constructor["@@type"]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}}),h=h.exports;var m={exports:{}},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";"object"===y(m)&&"object"===y(m.exports)?m.exports=e(h):"function"==typeof define&&null!=define.amd?define(["sanctuary-type-identifiers"],e):self.sanctuaryTypeClasses=e(self.sanctuaryTypeIdentifiers)}(function(e){"use strict";function t(e){return function(t){return e.concat(t)}}function n(e){return function(t){return e}}function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function o(e){return e}function i(e){return function(t){return[e,t]}}function s(e){return{value:e,done:!1}}function a(e){return{value:e,done:!0}}function u(e,t,n){if(!(this instanceof u))return new u(e,t,n);this.name=e,this.test=function(e){return t.every(function(t){return t.test(e)})&&n(e)}}u["@@type"]="sanctuary-type-classes/TypeClass";var c="Constructor",l="Value";function d(e,t,n){for(var o=n,i=0;i<t.length;i+=1){var s=t[i];if(null==o||!e&&!r(s,o))return null;o=o[s]}return"function"==typeof o?o:null}function f(e,t){return d(!0,e,t)}function h(e){return d(!1,e,U)}function p(t,n,r){function o(t){var n="fantasy-land/"+t;return r[t]===c?function(e){return f([n],e)||h([/function (\w*)/.exec(e)[1],n])}:function(t){var r=null;return null!=t&&null!=t.constructor&&t.constructor.prototype===t||(r=f([n],t)),null==r&&(r=h([e(t),"prototype",n])),r&&r.bind(t)}}var i="sanctuary-type-classes/"+t,s=Object.keys(r),a=u(i,n,function(e){return s.every(function(t){var n=r[t]===c?e.constructor:e;return null!=o(t)(n)})});return a.methods=s.reduce(function(e,t){return e[t]=o(t),e},{}),a}var m=p("Setoid",[],{equals:l}),v=p("Semigroup",[],{concat:l}),g=p("Monoid",[v],{empty:c}),b=p("Functor",[],{map:l}),w=p("Bifunctor",[b],{bimap:l}),S=p("Profunctor",[b],{promap:l}),E=p("Apply",[b],{ap:l}),N=p("Applicative",[E],{of:c}),_=p("Chain",[E],{chain:l}),A=p("ChainRec",[_],{chainRec:c}),T=p("Monad",[N,_],{}),O=p("Alt",[b],{alt:l}),L=p("Plus",[O],{zero:c}),I=p("Alternative",[N,L],{}),k=p("Foldable",[],{reduce:l}),C=p("Traversable",[b,k],{traverse:l}),D=p("Extend",[b],{extend:l}),P=p("Comonad",[D],{extract:l});function j(e){return[e]}function x(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t+=1)if(!G(this[t],e[t]))return!1;return!0}function M(e){return this.concat(e)}function R(e){var t={};for(var n in this)t[n]=this[n];for(n in e)t[n]=e[n];return t}var H,U={Null:{prototype:{toString:function(){return"null"},"fantasy-land/equals":function(e){return!0}}},Undefined:{prototype:{toString:function(){return"undefined"},"fantasy-land/equals":function(e){return!0}}},Boolean:{prototype:{toString:function(){return"object"===y(this)?"new Boolean("+q(this.valueOf())+")":this.toString()},"fantasy-land/equals":function(e){return(void 0===e?"undefined":y(e))===y(this)&&e.valueOf()===this.valueOf()}}},Number:{prototype:{toString:function(){return"object"===y(this)?"new Number("+q(this.valueOf())+")":1/this==-1/0?"-0":this.toString(10)},"fantasy-land/equals":function(e){return"object"===(void 0===e?"undefined":y(e))?"object"===y(this)&&G(this.valueOf(),e.valueOf()):isNaN(e)&&isNaN(this)||e===this&&1/e==1/this}}},Date:{prototype:{toString:function(){var e=isNaN(this.valueOf())?NaN:this.toISOString();return"new Date("+q(e)+")"},"fantasy-land/equals":function(e){return G(this.valueOf(),e.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(e){return e.source===this.source&&e.global===this.global&&e.ignoreCase===this.ignoreCase&&e.multiline===this.multiline&&e.sticky===this.sticky&&e.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{toString:function(){return"object"===y(this)?"new String("+q(this.valueOf())+")":'"'+this.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'},"fantasy-land/equals":function(e){return(void 0===e?"undefined":y(e))===y(this)&&e.valueOf()===this.valueOf()},"fantasy-land/concat":function(e){return this+e}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":j,"fantasy-land/chainRec":function(e,t){for(var n=[t],r=[];n.length>0;){for(var o=e(s,a,n.shift()),i=[],u=0;u<o.length;u+=1)(o[u].done?r:i).push(o[u].value);Array.prototype.unshift.apply(n,i)}return r},"fantasy-land/zero":function(){return[]},prototype:{toString:function(){for(var e=this.map(q),t=Object.keys(this).sort(),n=0;n<t.length;n+=1){var r=t[n];/^\d+$/.test(r)||e.push(q(r)+": "+q(this[r]))}return"["+e.join(", ")+"]"},"fantasy-land/equals":x,"fantasy-land/concat":M,"fantasy-land/map":function(e){return this.map(function(t){return e(t)})},"fantasy-land/ap":function(e){for(var t=[],n=0;n<e.length;n+=1)for(var r=0;r<this.length;r+=1)t.push(e[n](this[r]));return t},"fantasy-land/chain":function(e){var t=[];return this.forEach(function(n){Array.prototype.push.apply(t,e(n))}),t},"fantasy-land/alt":M,"fantasy-land/reduce":function(e,t){return this.reduce(function(t,n){return e(t,n)},t)},"fantasy-land/traverse":function(e,n){var r=this;function o(s,a){switch(a){case 0:return $(e,[]);case 2:return Y(i,n(r[s]),n(r[s+1]));default:var u=2*Math.floor(a/4);return Y(t,o(s,u),o(s+u,a-u))}}return this.length%2==1?Y(t,V(j,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(e){return[e(this)]}}},Arguments:{prototype:{toString:function(){return"(function () { return arguments; }("+Array.prototype.map.call(this,q).join(", ")+"))"},"fantasy-land/equals":function(e){return x.call(this,e)}}},Error:{prototype:{toString:function(){return"new "+this.name+"("+q(this.message)+")"},"fantasy-land/equals":function(e){return G(this.name,e.name)&&G(this.message,e.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{toString:function(){for(var e=[],t=Object.keys(this).sort(),n=0;n<t.length;n+=1){var r=t[n];e.push(q(r)+": "+q(this[r]))}return"{"+e.join(", ")+"}"},"fantasy-land/equals":function(e){var t=this,n=Object.keys(this).sort();return G(n,Object.keys(e).sort())&&n.every(function(n){return G(t[n],e[n])})},"fantasy-land/concat":R,"fantasy-land/map":function(e){var t={};for(var n in this)t[n]=e(this[n]);return t},"fantasy-land/alt":R,"fantasy-land/reduce":function(e,t){var n=t;for(var r in this)n=e(n,this[r]);return n}}},Function:{"fantasy-land/of":function(e){return function(t){return e}},"fantasy-land/chainRec":function(e,t){return function(n){for(var r=s(t);!r.done;)r=e(s,a,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(e){return e===this},"fantasy-land/map":function(e){var t=this;return function(n){return e(t(n))}},"fantasy-land/promap":function(e,t){var n=this;return function(r){return t(n(e(r)))}},"fantasy-land/ap":function(e){var t=this;return function(n){return e(n)(t(n))}},"fantasy-land/chain":function(e){var t=this;return function(n){return e(t(n))(n)}}}}},q=function(){var t=[];function n(e,n){t.push(n);try{return e.call(n)}finally{t.pop()}}return function(r){if(t.indexOf(r)>=0)return"<Circular>";var o=e(r);if("Object"===o){var i;try{i=n(r.toString,r)}catch(e){}if(null!=i&&"[object Object]"!==i)return i}return n(h([o,"prototype","toString"])||r.toString,r)}}(),G=(H=[],function(t,n){if(e(t)!==e(n))return!1;if(H.some(function(e){return e[0]===t&&e[1]===n}))return!0;H.push([t,n]);try{return m.test(t)&&m.test(n)&&m.methods.equals(t)(n)}finally{H.pop()}});function K(e,t){return v.methods.concat(e)(t)}function F(e){return g.methods.empty(e)()}function V(e,t){return b.methods.map(t)(e)}function B(e,t){return E.methods.ap(t)(e)}function Y(e,t,n){return B(V(e,t),n)}function $(e,t){return N.methods.of(e)(t)}function W(e,t){return _.methods.chain(t)(e)}function X(e,t,n){return k.methods.reduce(n)(e,t)}function Z(e,t,n){return C.methods.traverse(n)(e,t)}return{TypeClass:u,Setoid:m,Semigroup:v,Monoid:g,Functor:b,Bifunctor:w,Profunctor:S,Apply:E,Applicative:N,Chain:_,ChainRec:A,Monad:T,Alt:O,Plus:L,Alternative:I,Foldable:k,Traversable:C,Extend:D,Comonad:P,toString:q,equals:G,concat:K,empty:F,map:V,bimap:function(e,t,n){return w.methods.bimap(n)(e,t)},promap:function(e,t,n){return S.methods.promap(n)(e,t)},ap:B,lift2:Y,lift3:function(e,t,n,r){return B(B(V(e,t),n),r)},apFirst:function(e,t){return Y(n,e,t)},apSecond:function(e,t){return Y(n(o),e,t)},of:$,chain:W,join:function(e){return W(o,e)},chainRec:function(e,t,n){return A.methods.chainRec(e)(t,n)},filter:function(e,t){var n=t.constructor;return X(function(t,r){return e(r)?K(t,$(n,r)):t},F(n),t)},filterM:function(e,t){var n=t.constructor,r=F(n);return W(function(t){return e(t)?$(n,t):r},t)},alt:function(e,t){return O.methods.alt(e)(t)},zero:function(e){return L.methods.zero(e)()},reduce:X,traverse:Z,sequence:function(e,t){return Z(e,o,t)},extend:function(e,t){return D.methods.extend(t)(e)},extract:function(e){return P.methods.extract(e)()}}}),m=m.exports;var v={exports:{}},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function b(){return!1}function w(){return!0}!function(e){"use strict";"object"===g(v)&&"object"===g(v.exports)?v.exports=e(m,h):"function"==typeof define&&null!=define.amd?define(["sanctuary-type-classes","sanctuary-type-identifiers"],e):self.daggy=e(self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(e,t){"use strict";var n="@@tag",r="@@values",o="@@type",i="@@ret_type";function s(e){var t=this[n];if(!e[t])throw new TypeError("Constructors given to cata didn't include: "+t);return e[t].apply(e,this[r])}function a(){return this[i]+"."+this[n]}function u(){return this.constructor[o]+"."+this[n]+y(this[r])}function c(){return this[o]}function l(){return this.constructor[o]+y(this[r])}function d(e){return Boolean(e)&&this[n]===e[n]&&this[i]===t(e)}function f(e){return this===e||Boolean(e)&&this[n]===e[n]&&t(this)===t(e)}function h(e){return this[o]===t(e)}function p(e,t,n,o){if(o!==e.length)throw new TypeError("Expected "+e.length+" arguments, got "+o);var i=Object.create(t);m(i,r,n);for(var s=0;s<e.length;s+=1)i[e[s]]=n[s];return i}function m(e,t,n){var r=m.desc||(m.desc={enumerable:!1,writable:!1,configurable:!1,value:null});r.value=n,Object.defineProperty(e,t,r)}function y(t){if(0===t.length)return"";for(var n="("+e.toString(t[0]),r=1;r<t.length;r+=1)n=n+", "+e.toString(t[r]);return n+")"}function v(e,t){switch(e.length){case 1:return function(n){return p(e,t,[n],arguments.length)};case 2:return function(n,r){return p(e,t,[n,r],arguments.length)};case 3:return function(n,r,o){return p(e,t,[n,r,o],arguments.length)};case 4:return function(n,r,o,i){return p(e,t,[n,r,o,i],arguments.length)};case 5:return function(n,r,o,i,s){return p(e,t,[n,r,o,i,s],arguments.length)};case 6:return function(n,r,o,i,s,a){return p(e,t,[n,r,o,i,s,a],arguments.length)};case 7:return function(n,r,o,i,s,a,u){return p(e,t,[n,r,o,i,s,a,u],arguments.length)};case 8:return function(n,r,o,i,s,a,u,c){return p(e,t,[n,r,o,i,s,a,u,c],arguments.length)};case 9:return function(n,r,o,i,s,a,u,c,l){return p(e,t,[n,r,o,i,s,a,u,c,l],arguments.length)};case 10:return function(n,r,o,i,s,a,u,c,l,d){return p(e,t,[n,r,o,i,s,a,u,c,l,d],arguments.length)};default:return Object.defineProperty(function(){return p(e,t,arguments,arguments.length)},"length",{value:e.length})}}return{tagged:function(e,t){var n={toString:l},r=v(t,n);return r.toString=c,r.prototype=n,r.is=h,r[o]=e,n.constructor=r,r},taggedSum:function(e,t){var r={cata:s,toString:u},o=r.constructor={toString:c,prototype:r,is:h,"@@type":e};return Object.keys(t).forEach(function(s){var u=t[s],c=Object.create(r);if(m(c,n,s),0===u.length)return o[s]=p(u,c,[],0),void(o[s].is=f);o[s]=v(u,c),o[s].is=d,o[s][n]=s,o[s][i]=e,o[s].toString=a}),o}}}),v=v.exports;var S=function(e){var t=v.taggedSum(e,{NotAsked:[],Loading:[],Success:["_value"],Error:["_error"],Saving:["_value"]});return t.prototype.isLoading=function(){return this.cata({NotAsked:b,Loading:w,Success:b,Error:b,Saving:b})},t.prototype.isSaving=function(){return this.cata({NotAsked:b,Loading:b,Success:b,Error:b,Saving:w})},t};"function"==typeof Symbol&&Symbol.iterator;var E={},N="undefined"!=typeof window,_=N&&window.requestIdleCallback,A=function e(t,n){var r;return n=n||E,_?(r=window.requestIdleCallback(function(r){if(r.timeRemaining()<=1&&!r.didTimeout)return e(t,n);t(r)},n),window.cancelIdleCallback.bind(window,r)):N?(r=setTimeout(t,0),clearTimeout.bind(window,r)):void 0},T=S("Edge");function O(){}function L(){return!1}function I(){return!0}var k=function(e,t,n){var r=v.taggedSum("RemoteData",{NotLoaded:[],Loading:[],Error:["err"],Failure:["value"],Success:["value"]});return t[e]=r.NotLoaded,r.prototype.get=function(o){t[e]=r.Loading,n(),c.get("/api/"+e,{json:!0},function(i,s,a){if(i?t[e]=r.Error(i):200!==s.statusCode?t[e]=r.Failure(a):t[e]=r.Success(a),n(),"function"==typeof o)return o(t[e])})},r.prototype.post=function(o,i){t[e]=r.Loading,n(),c.post("/api/"+e,{json:!0,data:o},function(o,s,a){if(o?t[e]=r.Error(o):200!==s.statusCode?t[e]=r.Failure(a):t[e]=r.Success(a),n(),"function"==typeof i)return i(t[e])})},r.prototype.put=function(o,i){t[e]=r.Loading,n(),c.put("/api/"+e,{json:!0,data:o},function(o,s,a){if(o?t[e]=r.Error(o):200!==s.statusCode?t[e]=r.Failure(a):t[e]=r.Success(a),n(),"function"==typeof i)return i(t[e])})},r.prototype.delete=function(o){t[e]=r.Loading,n(),c.del("/api/"+e,{json:!0},function(i,s,a){if(i?t[e]=r.Error(i):204===s.statusCode?t[e]=r.Failure("Deleted"):200!==s.statusCode?t[e]=r.Failure(a):t[e]=r.Success(a),n(),"function"==typeof o)return o(t[e])})},r.prototype.isLoading=function(){return this.cata({NotLoaded:L,Loading:I,Success:L,Error:L})},t[e]};function C(){}var D={exports:{}},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=void 0===o?"undefined":P(o);if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)&&o.length){var s=t.apply(null,o);s&&n.push(s)}else if("object"===i)for(var a in o)e.call(o,a)&&o[a]&&n.push(a)}}return n.join(" ")}D.exports?(t.default=t,D.exports=t):"function"==typeof define&&"object"===P(define.amd)&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}(),D=D.exports;var j,x,M=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],R={},H=(j=String.prototype.split,x=void 0===/()??/.exec("")[1],function(e,t,n){if("[object RegExp]"!==Object.prototype.toString.call(t))return j.call(e,t,n);var r,o,i,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),c=0;for(t=new RegExp(t.source,u+"g"),e+="",x||(r=new RegExp("^"+t.source+"$(?!\\s)",u)),n=void 0===n?-1>>>0:n>>>0;(o=t.exec(e))&&!((i=o.index+o[0].length)>c&&(a.push(e.slice(c,o.index)),!x&&o.length>1&&o[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)}),o.length>1&&o.index<e.length&&Array.prototype.push.apply(a,o.slice(1)),s=o[0].length,c=i,a.length>=n));)t.lastIndex===o.index&&t.lastIndex++;return c===e.length?!s&&t.test("")||a.push(""):a.push(e.slice(c)),a.length>n?a.slice(0,n):a}),U=[].indexOf,q=function(e,t){if(U)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1};function G(e){return!!e}var K,F=function(e){var t=e.classList;if(t)return t;var n={add:r,remove:o,contains:i,toggle:function(e){return i(e)?(o(e),!1):(r(e),!0)},toString:function(){return e.className},length:0,item:function(e){return s()[e]||null}};return n;function r(e){var t=s();q(t,e)>-1||(t.push(e),a(t))}function o(e){var t=s(),n=q(t,e);-1!==n&&(t.splice(n,1),a(t))}function i(e){return q(s(),e)>-1}function s(){return function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}(e.className.split(" "),G)}function a(t){var r=t.length;e.className=t.join(" "),n.length=r;for(var o=0;o<t.length;o++)n[o]=t[o];delete t[r]}},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B="undefined"==typeof window?R:window,Y=B.document,$=B.Text;function W(){var e=[];function t(){var t=[].slice.call(arguments),n=null;function r(t){var o,i,s;if(null==t);else if("string"==typeof t)n?n.appendChild(o=Y.createTextNode(t)):(s=H(t,/([\.#]?[^\s#.]+)/),/^\.|#/.test(s[1])&&(n=Y.createElement("div")),Z(s,function(e){var t=e.substring(1,e.length);e&&(n?"."===e[0]?F(n).add(t):"#"===e[0]&&n.setAttribute("id",t):n=Y.createElement(e))}));else if("number"==typeof t||"boolean"==typeof t||t instanceof Date||t instanceof RegExp)n.appendChild(o=Y.createTextNode(t.toString()));else if(i=t,"[object Array]"==Object.prototype.toString.call(i))Z(t,r);else if(X(t))n.appendChild(o=t);else if(t instanceof $)n.appendChild(o=t);else if("object"===(void 0===t?"undefined":V(t)))for(var a in t)if("function"==typeof t[a])/^on\w+/.test(a)?function(t,r){n.addEventListener?(n.addEventListener(t.substring(2),r[t],!1),e.push(function(){n.removeEventListener(t.substring(2),r[t],!1)})):(n.attachEvent(t,r[t]),e.push(function(){n.detachEvent(t,r[t])}))}(a,t):(n[a]=t[a](),e.push(t[a](function(e){n[a]=e})));else if("style"===a)if("string"==typeof t[a])n.style.cssText=t[a];else for(var u in t[a])!function(r,o){if("function"==typeof o)n.style.setProperty(r,o()),e.push(o(function(e){n.style.setProperty(r,e)}));else var i=t[a][r].match(/(.*)\W+!important\W*$/);i?n.style.setProperty(r,i[1],"important"):n.style.setProperty(r,t[a][r])}(u,t[a][u]);else if("attrs"===a)for(var c in t[a])n.setAttribute(c,t[a][c]);else"data-"===a.substr(0,5)?n.setAttribute(a,t[a]):n[a]=t[a];else"function"==typeof t&&(c=t(),n.appendChild(o=X(c)?c:Y.createTextNode(c)),e.push(t(function(e){X(e)&&o.parentElement?(o.parentElement.replaceChild(e,o),o=e):o.textContent=e})));return o}for(;t.length;)r(t.shift());return n}return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]();e.length=0},t}function X(e){return e&&e.nodeName&&e.nodeType}function Z(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}(K=W()).context=W;var z={},J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Q(e){function t(t){return function(n){return null!=(r=n)&&"object"===(void 0===r?"undefined":J(r))&&!1===Array.isArray(r)?e(t,n,ee(arguments,1)):e(t,ee(arguments));var r}}return M.forEach(function(e){t[e]=t(e)}),t}function ee(e,t){return Array.prototype.slice.call(e,t)}(z=Q(K)).createFactory=Q;var te=z.div,ne=z.section,re=z.span,oe=z.p;function ie(){return null}var se=z.div,ae=z.section,ue=z.a,ce=z.span,le="b",de="link underline-hover";function fe(e){return function(){return e.cata({NotLoaded:ve,Loading:ve,Error:ve,Failure:ve,Success:ye})}}var he="db-l dib mr2 h3-l";function pe(e){return ce({className:he},e)}function me(e){return function(t){var n=D(de,e===t?le:null," ttc");return ue({id:"nav-"+t,href:"/"+t,className:n},t)}}function ye(){return pe(me("setup")("setup"))}function ve(){return pe(ce({id:"nav-login",className:D(de,le)},"Login"))}function ge(){return null}var be=z.body,we=z.div,Se=z.header,Ee=z.nav;function Ne(){return we({className:"small progress"},we({},"loading..."))}var _e=function(e,t){return function(n){return be({className:"white bg-mid-gray avenir"},we({className:"_17f6c68a ph6-l ph3 bg-mid-gray"},Se({id:"header",className:"pt6"},function(e,t){return te({className:"w-100"},ne({className:"cf"},oe({className:"fl f3 mv0 tracked"},function(e,t){return re({className:D("white","b")},"Edge "+e.version)}(e)),oe({className:"fr f4 mv0 tracked"},function(e,t){var n=e.status;return re({className:D("white","b")},re({className:"dib"},"Node ID"),re({className:"dib code ttu ml4"},n.cata({NotLoaded:ie,Loading:ie,Failure:function(){return"Error"},Error:function(){return"Error"},Success:function(e){return e.online?e.online&&e.tcpFallbackActive?e.address+" Relaying":e.address:e.address+" Offline"}})))}(e))))}(e)),we({className:"pt6"},Ee({id:"main",className:"top-0 fixed static-l fl w-20-l w-100 dib bg-mid-gray"},function(e,t){return se({className:"w-100-l di db-l"},function(e,t){var n=e.sessions,r=e.init;return n.cata({NotLoaded:ge,Loading:ge,Error:fe(r),Failure:fe(r),Success:function(e,t){var n=e.route,r=me(n="/"===n?"settings":n);return function(){return ae({className:"pv0-l pv3 bb b--gray bn-l"},pe(r("settings")),pe(r("update")),pe(r("user")),pe(r("status")),pe(function(e,t){return e.sessions.cata({NotLoaded:ge,Loading:ge,Error:ge,Failure:ge,Success:function(n){return ue({id:"edge-logout",href:"",onclick:function(){t(e.events.SESSIONS_DELETE)},className:D(de)},"Logout")}})}(e,t)))}}(e,t)})}(e,t))}(e,t)),we({className:"dib w-80"},function(e,t){return e.sessions.cata({NotLoaded:Ne,Loading:Ne,Error:r,Failure:r,Success:r});function r(){return n(e,t)}}(e,t)))))}},Ae=z.h2,Te=z.form,Oe=z.fieldset,Le=z.label,Ie=z.div,ke=z.input,Ce=function(e,t){return Ie({className:"edge-login",id:"edge-login"},Ie(Ae({className:"dib mt0 f2 tracked"},"Login"),Ie({},e.sessions.cata({NotLoaded:function(){return"??"},Loading:function(){return"Authenticating..."},Error:function(e){return"Something went wrong"},Failure:function(e){return 401===e.statusCode?e.message:""},Success:function(){return"Success!"}})),Te({onsubmit:function(n){if(n.preventDefault(),n.target.checkValidity()){var r={password:document.querySelector("#login-password").value,username:document.querySelector("#login-username").value};t(e.events.SESSIONS_CREATE,r)}},id:"login-form",className:"bn ma0 pa0 mt4"},Oe({className:"bn mh0 ph0"},Le({className:"f5 w5 db",attrs:{for:"login-username"}},"Username"),ke({className:"w5 db",type:"text",id:"login-username",required:!0,minlength:4,maxlength:32}),Ie({className:"h2 f7 light-red",id:"login-username-message"})),Oe({className:"bn mh0 ph0"},Le({className:"f5 w5 db",attrs:{for:"login-password"}},"Password"),ke({className:"w5 db",type:"password",id:"login-password",required:!0}),Ie({className:"h2 f7 light-red",id:"login-username-message"})),ke({className:"w4 dib",id:"login-submit",type:"submit",value:"Submit"}))))},De=z.h2,Pe=z.section,je=z.div,xe=z.p,Me=z.form,Re=z.fieldset,He=z.label,Ue=z.input;function qe(e,t){return Ue({id:e,oninput:t,minlength:4,autocomplete:"new-password",required:!0,className:"db pa1 w5",type:"password"})}for(var Ge=function(e,t){var n="setup-password1",r="setup-password2";return Pe({id:"edge-setup",className:"flex justify-center"},je({className:"w-100"},De({className:"db mv0 f2 tracked pb2"},"Initial Setup"),xe({className:"mt4"},"Let's create the first account on this ZeroTier Edge"),Me({onsubmit:function(r){if(r.preventDefault(),r.target.checkValidity()){var o={password:document.querySelector("#"+n).value,username:document.querySelector("#setup-username").value};t(e.events.INIT_CREATE,o)}},id:"setup-form",className:"bn ma0 pa0"},Re({className:"bn mh0 ph0"},He({className:"f7 fw1",attrs:{for:"setup-username"}},"Username"),Ue({className:"db pa1 w5",type:"text",id:"setup-username",required:!0,minlength:4,maxlength:32}),je({className:"h2 f7 light-red",id:"setup-username-message"})),Re({className:"bn mh0 ph0"},He({className:"f7 fw1",attrs:{for:n}},"Password"),qe(n,o),je({className:"h2 f7 light-red",id:"setup-password-message"})),Re({className:"bn mh0 ph0"},He({className:"f7 fw1",attrs:{for:r}},"Repeat Password"),qe(r,o),je({className:"h2 f7 light-red",id:"setup-password2-message"})),Ue({className:"w4",type:"submit",id:"setup-submit-user",value:"Create"}))));function o(e){var t=document.querySelector("#"+n),o=document.querySelector("#"+r);t.value===o.value?o.setCustomValidity(""):o.setCustomValidity("Password fields must match")}},Ke=z.section,Fe=z.div,Ve="ZeroTier - Edge - Login",Be=function(e,t){return e.title!==Ve&&t(e.events.DOMTITLECHANGE,Ve),_e(e,t)(function(e,t){return Ke({id:"login-or-setup"},Fe({className:""},Fe(e.init.cata({NotLoaded:r,Loading:r,Error:r,Failure:r,Success:function(e){return e.init?r:n}}))))});function n(){return Ge(e,t)}function r(){return Ce(e,t)}},Ye=[],$e=0;$e<256;++$e)Ye[$e]=($e+256).toString(16).substr(1);var We=function(e,t){var n=t||0,r=Ye;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Xe={},Ze="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Ze){var ze=new Uint8Array(16);Xe=function(){return Ze(ze),ze}}else{var Je=new Array(16);Xe=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),Je[t]=e>>>((3&t)<<3)&255;return Je}}var Qe,et,tt=0,nt=0,rt=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Xe)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||We(o)},ot={},it=rt;function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}it.v1=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||Qe,s=void 0!==e.clockseq?e.clockseq:et;if(null==i||null==s){var a=Xe();null==i&&(i=Qe=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=et=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:nt+1,l=u-tt+(c-nt)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>tt)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tt=u,nt=c,et=s;var d=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=u/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var h=0;h<6;++h)o[r+h]=i[h];return t||We(o)},it.v4=rt;var at=(ot=it).v4,ut=function(e){var t=e.reduce(function(e,t){if(!t.addresses)return e;var n=t.addresses.reduce(function(e,n){var r=at(),o=Object.assign({},n,{tempId:r},{iface:t.name});return Object.assign({},e,st({},r,o))},{});return Object.assign({},e,n)},{});return{interfaces:e.reduce(function(e,t){var n=Object.assign({},t);return delete n.addresses,Object.assign({},e,st({},n.name,n))},{}),addresses:t}},ct=function(e,t){return Object.values(e).map(function(e){var n=Object.values(t).filter(function(t){return e.name&&t.iface===e.name}).map(function(e){var t=Object.assign({},e);return delete t.tempId,delete t.iface,t}),r=Object.assign({},e);return n.length&&(r.addresses=n),r})},lt=S("Interfaces"),dt=S("OS Interfaces");function ft(){}var ht=S("Edge");function pt(){}var mt,yt=z.div,vt=function(e,t){return e?yt({className:"small progress"},t||"Saving"):null},gt={exports:{}},bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};mt=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"===(void 0===e?"undefined":bt(e))}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function o(t,i,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||e;var a=Array.isArray(i);return a===Array.isArray(t)?a?s.arrayMerge(t,i,s):function(e,t,r){var i={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){i[t]=n(e[t],r)}),Object.keys(t).forEach(function(s){r.isMergeableObject(t[s])&&e[s]?i[s]=o(e[s],t[s],r):i[s]=n(t[s],r)}),i}(t,i,s):n(i,s)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o},"object"===(void 0===gt.exports?"undefined":bt(gt.exports))?gt.exports=mt():"function"==typeof define&&define.amd?define(mt):this.deepmerge=mt(),gt=gt.exports;var wt={};(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=R),wt=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var St=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],Et=St.length;function Nt(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}var _t=function(e,t){var n=e.nodeType,r=e.nodeName;1===n&&function(e,t){for(var n=t.attributes,r=e.attributes,o=null,i=null,s=null,a=null,u=r.length-1;u>=0;--u)s=(a=r[u]).name,o=a.namespaceURI,i=a.value,o?(s=a.localName||s,t.getAttributeNS(o,s)!==i&&t.setAttributeNS(o,s,i)):t.hasAttribute(s)?t.getAttribute(s)!==i&&("null"===i||"undefined"===i?t.removeAttribute(s):t.setAttribute(s,i)):t.setAttribute(s,i);for(var c=n.length-1;c>=0;--c)!1!==(a=n[c]).specified&&(s=a.name,(o=a.namespaceURI)?(s=a.localName||s,e.hasAttributeNS(o,s)||t.removeAttributeNS(o,s)):e.hasAttributeNS(null,s)||t.removeAttribute(s))}(e,t),3!==n&&8!==n||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===r?function(e,t){var n=e.value,r=t.value;Nt(e,t,"checked"),Nt(e,t,"disabled"),n!==r&&(t.setAttribute("value",n),t.value=n),"null"===n&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=n):t.removeAttribute("value")}(e,t):"OPTION"===r?function(e,t){Nt(e,t,"selected")}(e,t):"TEXTAREA"===r&&function(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(""===n&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}(e,t),function(e,t){for(var n=0;n<Et;n++){var r=St[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}(e,t)};"function"==typeof Symbol&&Symbol.iterator;var At=3;function Tt(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName===t.tagName&&e.type===At&&e.nodeValue===t.nodeValue}var Ot,Lt=function(e,t){return function e(t,n){return n?t?t.isSameNode&&t.isSameNode(n)?n:t.tagName!==n.tagName?t:(_t(t,n),function(t,n){for(var r,o,i,s,a=0,u=0;r=n.childNodes[u],o=t.childNodes[u-a],r||o;u++)if(o)if(r)if(Tt(o,r))(i=e(o,r))!==r&&(n.replaceChild(i,r),a++);else{s=null;for(var c=u;c<n.childNodes.length;c++)if(Tt(n.childNodes[c],o)){s=n.childNodes[c];break}s?((i=e(o,s))!==s&&a++,n.insertBefore(i,r)):o.id||r.id?(n.insertBefore(o,r),a++):(i=e(o,r))!==r&&(n.replaceChild(i,r),a++)}else n.appendChild(o),a++;else n.removeChild(r),u--}(t,n),n):null:t}(t,e)};"function"==typeof Symbol&&Symbol.iterator;var It="undefined"!=typeof window;function kt(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}kt.prototype.push=function(e){this.queue.push(e),this.schedule()},kt.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},kt.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},Ot=function(){var e;return It?(window._nanoScheduler||(window._nanoScheduler=new kt(!0)),e=window._nanoScheduler):e=new kt,e},"function"==typeof Symbol&&Symbol.iterator;var Ct,Dt=Ot();Pt.disabled=!0;try{Ct=window.performance,Pt.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!Ct.mark}catch(e){}function Pt(e){if(Pt.disabled)return jt;var t=(1e4*Ct.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var o="end-"+t+"-"+e;Ct.mark(o),Dt.push(function(){var i=null;try{var s=e+" ["+t+"]";Ct.measure(s,n,o),Ct.clearMarks(n),Ct.clearMarks(o)}catch(e){i=e}r&&r(i,e)})}return Ct.mark(n),r.uuid=t,r}function jt(e){e&&Dt.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var xt,Mt=Pt,Rt=Object.create(null),Ht="onloadid"+(new Date%9e6).toString(36),Ut="data-"+Ht,qt=0;if(e&&e.MutationObserver){var Gt=new MutationObserver(function(e){if(!(Object.keys(Rt).length<1))for(var t=0;t<e.length;t++)e[t].attributeName!==Ut?(Bt(e[t].removedNodes,Vt),Bt(e[t].addedNodes,Ft)):(n=e[t],r=Ft,o=Vt,void 0,i=n.target.getAttribute(Ut),function(e,t){return!(!e||!t)&&Rt[e][3]===Rt[t][3]}(n.oldValue,i)?Rt[i]=Rt[n.oldValue]:(Rt[n.oldValue]&&o(n.oldValue,n.target),Rt[i]&&r(i,n.target)));var n,r,o,i});wt.body?Kt(Gt):wt.addEventListener("DOMContentLoaded",function(e){Kt(Gt)})}function Kt(e){e.observe(wt.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[Ut]})}function Ft(e,t){Rt[e][0]&&0===Rt[e][2]&&(Rt[e][0](t),Rt[e][2]=1)}function Vt(e,t){Rt[e][1]&&1===Rt[e][2]&&(Rt[e][1](t),Rt[e][2]=0)}function Bt(e,t){for(var n=Object.keys(Rt),r=0;r<e.length;r++){if(e[r]&&e[r].getAttribute&&e[r].getAttribute(Ut)){var o=e[r].getAttribute(Ut);n.forEach(function(n){o===n&&t(n,e[r])})}e[r].childNodes.length>0&&Bt(e[r].childNodes,t)}}(xt=function e(t,n,r,o){return n=n||function(){},r=r||function(){},t.setAttribute(Ut,"o"+qt),Rt["o"+qt]=[n,r,0,o||e.caller],qt+=1,t}).KEY_ATTR=Ut;var Yt,$t=xt.KEY_ID=Ht,Wt=xt.KEY_ATTR;function Xt(e){this._hasWindow="undefined"!=typeof window,this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];var t=this;Object.defineProperty(this,"element",{get:function(){var e=wt.getElementById(t._id);if(e)return e.dataset.nanocomponent===t._ncID?e:void 0}})}Yt=Xt,Xt.prototype.render=function(){for(var e,t=Mt(this._name+".render"),n=new Array(arguments.length),r=0;r<arguments.length;r++)n[r]=arguments[r];if(this._hasWindow){if(this.element){e=this.element;var o=Mt(this._name+".update"),i=this._rerender||this.update.apply(this,n);if(o(),this._rerender&&(this._rerender=!1),i){var s=this._handleRender(n),a=Mt(this._name+".morph");Lt(e,s),a(),this.afterupdate&&this.afterupdate(e)}return this._proxy||(this._proxy=this._createProxy()),t(),this._proxy}return this._reset(),e=this._handleRender(n),this.beforerender&&this.beforerender(e),(this.load||this.unload||this.afterreorder)&&(xt(e,this._handleLoad,this._handleUnload,this._ncID),this._olID=e.dataset[$t]),t(),e}var u=Mt(this._name+".create");return e=this.createElement.apply(this,n),u(),t(),e},Xt.prototype.rerender=function(){this._rerender=!0,this.render.apply(this,this._arguments)},Xt.prototype._handleRender=function(e){var t=Mt(this._name+".createElement"),n=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=n.nodeName),this._arguments=e,this._brandNode(this._ensureID(n))},Xt.prototype._createProxy=function(){var e=wt.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(e){return e&&e.dataset.nanocomponent===t._ncID},e},Xt.prototype._reset=function(){this._ncID="ncid-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null},Xt.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(Wt,this._olID),e},Xt.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e},Xt.prototype._handleLoad=function(e){this._loaded?this.afterreorder&&this.afterreorder(e):(this._loaded=!0,this.load&&this.load(e))},Xt.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))},Xt.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")},Xt.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};var Zt={};"function"==typeof Symbol&&Symbol.iterator;var zt={trace:"\ud83d\udd0d",debug:"\ud83d\udc1b",info:"\u2728",warn:"\u26a0\ufe0f",error:"\ud83d\udea8",fatal:"\ud83d\udc80"},Jt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Qt={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"};function en(e,t){if(t=t||{},!(this instanceof en))return new en(e,t);this._name=e||"",this._colors=a(Qt,t.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch(e){this.logLevel="info"}this._logLevel=Jt[this.logLevel]}function tn(e){return"color: "+e+";"}function nn(e){return 2!==e.length?0+e:e}Zt=en,en.prototype.trace=function(){for(var e=["trace"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype.debug=function(){for(var e=["debug"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype.info=function(){for(var e=["info"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype.warn=function(){for(var e=["warn"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype.error=function(){for(var e=["error"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype.fatal=function(){for(var e=["fatal"],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);this._print.apply(this,e)},en.prototype._print=function(e){if(!(Jt[e]<this._logLevel)){var t,n=nn((t=new Date).getHours().toString())+":"+nn(t.getMinutes().toString())+":"+nn(t.getSeconds().toString()),r=zt[e],o=this._name||"unknown",i="error"===e||e.fatal?this._colors.red:"warn"===e?this._colors.yellow:this._colors.green,s=[],a=[null],u="%c%s "+r+" %c%s";a.push(tn(this._colors.brightBlack),n),a.push(tn(this._colors.magenta),o);for(var c=1,l=arguments.length;c<l;c++){var d=arguments[c];"string"==typeof d?1===c?(u+=" %c%s",a.push(tn(i)),a.push(d)):/ms$/.test(d)?(u+=" %c%s",a.push(tn(this._colors.brightBlack)),a.push(d)):(u+=" %c%s",a.push(tn(this._colors.white)),a.push(d)):"number"==typeof d?(u+=" %c%d",a.push(tn(this._colors.magenta)),a.push(d)):s.push(d)}a[0]=u,s.forEach(function(e){a.push(e)}),Function.prototype.apply.apply(console.log,[console,a])}};var rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),on=z.hr,sn=z.div,an=z.h3,un=z.h4,cn=z.input,ln=z.label,dn=z.section,fn=z.h2,hn=z.form,pn=z.header,mn=z.select,yn=z.option,vn=Zt("phy"),gn=/^en|^eth|^phy|^wlan/,bn="dib w5 f4 b ";function wn(e,t){var n,r=e.osInterfaces;return dn(hn({id:"physical-interfaces",onsubmit:function(n){n.preventDefault(),t(e.events.PHYSICAL_SUBMIT)}},cn({type:"submit",style:"display: none"}),sn(pn({className:"h3"},fn({className:"dib mv0 f2 tracked mr2"},"Interfaces"),vt(function(e){return[e.interfacesMachine].some(function(e){return e.isLoading()})}(e)),dn({className:"dib fr"},function(e,t){var n=e.interfacesEdited?"bg-light-red":null;return sn({id:"edge-physical-submit"},cn({className:"v-top "+n,type:"button",value:"Save Changes",onclick:function(){t(e.events.PHYSICAL_SUBMIT)}}),sn({className:"di absolute"},vt(function(e){return[e.interfacesMachine].some(function(e){return e.isSaving()})}(e))))}(e,t))),function(e,t){return e.interfacesMachine.cata({NotAsked:n,Loading:n,Success:n,Error:function(e){return sn({className:"w-100 bg-yellow black pa3 mv2"},e.message)},Saving:n});function n(){return null}}(e),r.filter((n=gn,function(e){return e.match(n)})).map(function(e,t){return function(n,r){return[function(e,t,n,r){var o,i=n.interfaces[e],s="interface-"+e+"-"+t;return dn({id:s,className:"interface-section pv4"},pn({className:"interface-header pv3"},fn({className:"dib w5 mv0 ttu tracked"},e),dn({id:s+"-del",className:"dib v-top"},i?cn({id:"iface-delete-"+(o=e),type:"button",value:"Delete",className:"w4",onclick:function(){r(n.events.PHYSICAL_DELETE,o)}}):cn({id:"iface-config-"+e,type:"button",value:"Configure",className:"w4",onclick:function(){r(n.events.PHYSICAL_CREATE,e)}}))),i?sn(function(t){var o,i=function(e,t){return Object.values(t).filter(function(t){return t.iface===e})}(e,n.addresses),s=En(e);return dn({className:"interface-config"},s&&"ap"===t.mode?a(e):null,dn({className:"interface-addresses"},s&&"client"===t.mode?dn({id:"autoconf-"+(o=e),className:"interface-autoconf pv2"},pn({className:"w5 dib"},an({className:"mv0 fw5"},"Physical Addresses")),sn({className:"dib"},n.constants.AUTO_CONFS.map(u)),cn({className:"db ml7 mt3 w4",type:"button",value:"+ Static",onclick:function(){r(n.events.ADDRESS_CREATE,o)}})):null,dn({id:"iface-addresses-"+e},i.map(c))))}(i),function(e,t){var o="wifi-"+e;return En(e)?dn({className:"wireless-config"},pn(fn("Wi-Fi")),dn({id:o,className:"mt3"},ln({className:bn},"SSID"),cn({className:"dib w5",type:"text",value:t.essid||null,placeholder:"cool_wifi",oninput:function(t){r(n.events.PHYSICAL_UPDATE,e,{essid:t.target.value})}})),dn({id:o+"-input",className:"mt3"},ln({className:bn},"Password (PSK)"),cn({className:"dib w5",type:"text",value:t.psk||null,placeholder:"hunter2",oninput:function(t){r(n.events.PHYSICAL_UPDATE,e,{psk:t.target.value})}})),dn({id:o+"-modes",className:"mt3"},dn({id:"mode-"+e},pn({className:"dib"},an({className:"mv0 w5"},"Mode")),sn({className:"dib"},n.constants.WIFI_MODES.map(function(o){var i=o===t.mode,s="ip-autoconf-"+t.name+"-"+o;return dn({className:"m2 dib w4"},cn({className:_n,onchange:function(t){r(n.events.PHYSICAL_UPDATE,e,{mode:o})},name:"ip-mode-"+t.name,type:"radio",id:s,checked:i}),ln({className:An,attrs:{for:s}},o))}))),t&&"ap"===t.mode?function(t){return dn({id:"channel-"+t,className:"mt3"},pn({className:"dib"},an({className:"mv0 w5"},"Channel")),sn({className:"dib"},mn({onchange:function(t){r(n.events.PHYSICAL_UPDATE,e,{channel:Number(t.target.value)})}},n.constants.WIFI_CHANS.map(function(e){var r=n.interfaces[t].channel===e;return yn(r?{value:e,attrs:{selected:r}}:{value:e},String(e))}))))}(e):null)):null}(e,i)):null);function a(e){var t="physical-"+e+"-virtual";return pn({className:"network-id-header mv4"},ln({className:"mv0 w5 dib f4 fw5",attrs:{for:t}},"ZeroTier Network"),cn({id:t,className:"dib w5",type:"text",oninput:function(t){r(n.events.PHYSICAL_UPDATE,e,{virtual:t.target.value})},value:i.virtual||null,placeholder:"8056c2e21c000001"}),sn({className:"absolute f6 fw1 "},sn({className:"dib w5-l"}),sn({className:"dib w5 tr-l"},i.virtual?n.listNetworks.filter(function(e){return i.virtual===e.id}).map(function(e){return e.status})[0]:null)),i.virtual?dn({id:"autoconf-"+e,className:"interface-autoconf pv2"},pn({className:"w5 dib"},an({className:"mv0 fw5"},"Do Not Bridge")),sn({className:"dib"},n.constants.BRIDGE_PROHIBIT.map(function(t){var o="bridge-block-"+i.name+"-"+t;return sn({className:"dib w4"},cn({className:_n,onchange:function(o){r(n.events.BRIDGE_PROHIBIT,e,t,o.target.checked)},id:o,type:"checkbox",checked:function(){return i.prohibit&&i.prohibit.includes(t)}}),ln({className:An,attrs:{for:o}},t))}))):null)}function u(t){var o="ip-autoconf-"+i.name+"-"+t;return sn({className:"dib w4"},cn({className:_n,onchange:function(o){r(n.events.PHYSICAL_AUTO,e,t,o.target.checked)},id:o,type:"checkbox",checked:function(){return i.autoconf&&i.autoconf.includes(t)}}),ln({className:An,attrs:{for:o}},t))}function c(e,t){var o="iface-address-"+e.tempId;return dn({id:o,className:"static-address pv3"},pn({className:"static-address-header pv1"},an({className:"mv0 dib w5"},"Static Address "+(t+1)+": "),sn({className:"dib v-top"},function(e){var t="address-delete-"+e.tempId;return cn({onclick:function(){r(n.events.ADDRESS_DELETE,e.tempId)},value:"Delete",type:"button",className:"w4",id:t})}(e))),function(e){return dn({className:"static-addr-family pv1"},pn({className:"w5 dib"},un({className:"mv0 f5 normal"},"Family")),n.constants.IP_FAMILIES.map(function(t){var o,i,s=t===e.family;return dn({className:"dib w4"},cn({className:_n,onchange:(o=e.tempId,"family",i=t,function(){r(n.events.ADDRESS_UPDATE,o,"family",i)}),name:"ip-family-"+e.tempId,type:"radio",checked:s}),ln({className:An},t))}))}(e),function(e){var t=e.proto,o=e.family;return"static"!==t?null:"ipv4"===o?function(e){var t="static-address-"+e.tempId;return dn(pn({id:t,className:"static-addr-addr-header pv1"},ln({className:"w5 dib f5"},"Address"),cn({className:"dib w5",type:"text",value:e.address||null,placeholder:"10.11.12.13",oninput:i("address")})),pn({id:t,className:"static-addr-mask-header pv1"},ln({className:"w5 dib f5"},"Mask"),cn({className:"dib w5",type:"number",value:e.mask||null,placeholder:"24",oninput:s("mask")})),pn({id:t,className:"static-addr-gw-header pv1"},ln({className:"w5 dib f5"},"Gateway"),cn({className:"dib w5",type:"text",value:e.gateway||null,placeholder:"10.11.12.1",oninput:i("gateway")})))}(e):function(e){var t="static-address-"+e.tempId;return dn(dn({id:t,className:"static-addr6-addr pv1"},ln({className:"w5 dib f5"},"Address"),cn({style:"width: 24rem",className:"dib",type:"text",value:e.address||null,placeholder:"2001:0db8:85a3:0000:0000:8a2e:0370:7334",oninput:i("address")})),dn({id:t,className:"static-addr6-mask pv1"},ln({className:"w5 dib f5"},"Mask"),cn({className:"dib w5",type:"number",value:e.mask||null,placeholder:"64",oninput:s("mask")})))}(e);function i(t){return function(o){r(n.events.ADDRESS_UPDATE,e.tempId,t,o.target.value)}}function s(t){return function(o){r(n.events.ADDRESS_UPDATE,e.tempId,t,Number(o.target.value))}}}(e))}}(n,r,e,t),on({className:"mv3 gold b--dashed o-20"})]}}(e,t)))))}var Sn=/^wlan/;function En(e){return!!e.match(Sn)}var Nn,_n="mr2",An="lh-copy mr2",Tn=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e||(e={});var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loading=!0,n.saving=!1,n.api=e.api,n.emit=null,n.clock=null,n.listPeersClock=null,n.interfaces=[],n.networkIds=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Yt),rn(t,[{key:"createElement",value:function(e,t){return vn.debug("createElement()"),this.emit=t,this.state=e,e.osInterfacesMachine.cata({NotAsked:function(){return dn("")},Loading:function(){return wn(e,t)},Success:function(){return wn(e,t)},Error:function(){return wn(e,t)},Saving:function(){return wn(e,t)}})}},{key:"update",value:function(e,t){vn.debug("update()"),this.emit=t,this.state=e;var n=this.clock!==e.interfacesClock||this.listPeersClock!==e.listPeersClock;return this.clock=e.interfacesClock,this.listPeersClock=e.listPeersClock,n}},{key:"load",value:function(){vn.debug("load()"),this.interfacesEdits=gt({},this.interfaces),this.rerender()}}]),t}(),On=z.section,Ln=z.div,In=new Tn,kn=function(e,t){"ZeroTier - Edge - Settings"!==e.title&&t(e.events.DOMTITLECHANGE,"ZeroTier - Edge - Settings");var n=_e(e,t);return e.sessions.cata({NotLoaded:o,Loading:o,Error:o,Failure:o,Success:function(){return n(r)}});function r(){return On({},Ln({id:"settings",className:""},Ln({className:""},In.render(e,t))))}function o(){return Be(e,t)}},Cn=(Nn="Update",v.taggedSum(Nn,{NotAsked:[],Checking:[],Current:[],Outdated:["_value"],Error:["_error"],Updating:[],Success:["_value"],Failed:["_value"]})),Dn=z.div,Pn=z.section,jn=z.input,xn=z.textarea,Mn=z.h2,Rn=function(e,t){return Dn({id:"edge-update",className:"edge-update "},Dn({className:"w-100"},Mn({className:"dib mv0 f2 tracked"},"Software Update"),function(e,t){return e.updateMachine.cata({NotAsked:function(){return Pn({className:"pv1"},jn({className:"f5 w5",id:"update-get-submit",type:"submit",value:"Check for Updates",onclick:function(){t(e.events.UPDATE_GET)}}),jn({className:"f5 w5",id:"upgrade-get-submit",type:"submit",value:"Update",onclick:function(){t(e.events.UPGRADE_GET)}}))},Checking:function(){return Dn({},"Checking...")},Outdated:function(n){return Dn({},jn({className:"w-100 tc f6 ba bw1 ph3 pv2 mb2 dib mid-gray",id:"update-do-submit",type:"submit",value:"Update to "+n,onclick:function(){t(e.events.UPDATE_POST)}}))},Current:function(){return Dn({},"No Updates")},Updating:function(){return Dn({},"Updating...")},Error:function(){return Dn({},"Something went wrong")},Success:function(){return Dn({},"Success! Refresh browser please")},Failed:function(e){return Dn({},e)}})}(e,t),xn({attrs:{readonly:!0,rows:8},className:"w-100 pa2 code lh-copy",value:""+e.updateLog.join("\n")})))},Hn=z.section,Un=z.div,qn=Zt("status"),Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fn=Zt("status"),Vn=z.section,Bn=z.div,Yn=z.span,$n=z.h2,Wn=z.h3,Xn=z.h4,Zn=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e||(e={});var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clock=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Yt),Kn(t,[{key:"createElement",value:function(e){return Fn.debug("createElement()"),function(e){var t=e.listPeers,n=void 0===t?[]:t;return Vn({id:"list-peers"},Wn({className:"dib mv0 f3 tracked"},"ZeroTier Peers ["+(n.length||0)+"]"),n.sort(function(e,t){return e.address>t.address?1:-1}).map(function(e){return Vn({id:"peer-"+e.address,className:"mv4",style:"word-wrap: break-word;"},zn(e))}))}(e)}},{key:"update",value:function(e){Fn.debug("update()");var t=this.clock!==e.listPeersClock;return this.clock=e.listPeersClock,t}},{key:"load",value:function(){Fn.debug("load()")}}]),t}();function zn(e){return null==e?"-":Array.isArray(e)?Bn({},e.map(function(e){return Bn({className:"pl4 mb2"},zn(e))})):"object"===(void 0===e?"undefined":Gn(e))?Bn({},Object.keys(e).map(function(t){return Bn({},Yn({className:"dib mr2 w5"},t+": "),zn(e[t]))})):Yn({},e)}var Jn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Qn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),er=z.div,tr=z.input,nr=z.textarea,rr=z.h2,or=z.header,ir=Zt("ssh"),sr=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e||(e={});var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.newKey="",n.vector=0,n.sshKey=n.sshKey.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Yt),Qn(t,[{key:"createElement",value:function(e,t){ir.debug("createElement()"),this.emit=t,this.state=e;var n,r=this;return er({id:"edge-ssh-keys",className:"flex "},er({className:"w-100"},or(rr({className:"dib mv0 f2 tracked"},"SSH Keys")),(n=e.sshKeysError)?er({className:"w-100 bg-yellow pa3 mv2"},n):null,nr({attrs:{rows:4},className:"w-100 pa2 code lh-copy",onchange:function(e){r.newKey=e.target.value},value:this.newKey,placeholder:"ssh-rsa ..."}),er(tr({onclick:function(){r.emit(r.state.events.SSH_KEYS_PUT,r.newKey),r.newKey=""},value:"Save Key",className:"w5 mv2 dib",type:"submit"}),er({className:"dib"},vt(e.sshKeysLoading))),e.sshKeys.map(this.sshKey)))}},{key:"update",value:function(e,t){return ir.debug("update()"),this.emit=t,this.state=e,e.sshKeysVector!==this.vector&&(this.vector=e.sshKeysVector,!0)}},{key:"load",value:function(){ir.debug("load()")}},{key:"sshKey",value:function(e,t){var n=this;return er({className:"mt4",id:"key-del-"+t},nr({attrs:{readonly:!0,rows:4},className:"w-100 pa2 code lh-copy",value:""+function(e){var t=e.split(" "),n=Jn(t,3),r=n[0],o=n[1],i=n[2];return[r,o.slice(0,12)+"..."+o.slice(-12),i].join(" ")}(e),disabled:!0}),er({onclick:function(e){n.emit(n.state.events.SSH_KEYS_DEL,t)},className:"mv2 mr4 dib"},tr({id:void 0,className:ar,type:"button",value:"Delete"})))}}]),t}(),ar="b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6",ur=z.header,cr=z.div,lr=z.h2,dr=z.p,fr=z.form,hr=z.fieldset,pr=z.label,mr=z.input,yr=function(e,t){var n={};return cr({id:"edge-login"},cr({className:"w-100"},cr(e.passwords.cata({NotLoaded:function(){return""},Loading:function(){return"Changing Password..."},Error:function(e){return cr({className:"w-100 bg-yellow pa3 mv2"},"Something went wrong")},Failure:function(e){return cr({className:"w-100 bg-yellow pa3 mv2"},"Error saving password")},Success:function(){return"Success! New password saved."}})),fr({onsubmit:function(r){r.preventDefault(),r.target.checkValidity()&&t(e.events.PASSWORD_UPDATE,n)},id:"change-pw-form",className:"bn ma0 pa0"},ur({className:"h4"},lr({className:"dib mv0 f2 tracked"},"Change Password"),cr({className:"dib fr"},mr({id:"password-submit",type:"submit",value:"Submit"}),cr({className:"di absolute"},vt(function(e){return[e.passwords].some(function(e){return e.isLoading()})}(e)))),dr({className:"f4"},"For: "+e.sessions.value.username)),hr({className:"bn mh0 ph0"},pr({className:"f5 w5 dib",attrs:{for:"old-password"}},"Current Password"),mr({className:"w5 dib",type:"password",minlength:4,autocomplete:"current-password",required:!0,onblur:function(e){n.password=e.target.value},id:"old-password"}),cr({className:"h2 f7 light-red",id:"old-password-message"})),hr({className:"bn mh0 ph0"},pr({className:"f5 w5 dib",attrs:{for:"new-password1"}},"New Password"),mr({className:"w5 dib",type:"password",minlength:4,required:!0,onblur:function(e){n.newPassword1=e.target.value},id:"new-password1"}),cr({className:"h2 f7 light-red",id:"new-password1-message"})),hr({className:"bn mh0 ph0"},pr({className:"f5 w5 dib",attrs:{for:"new-password2"}},"Confirm New Password"),mr({className:"w5 dib",type:"password",minlength:4,required:!0,onblur:function(e){n.newPassword2=e.target.value;var t=document.querySelector("#new-password1"),r=document.querySelector("#new-password2");t.value===r.value?r.setCustomValidity(""):r.setCustomValidity("Password fields must match")},id:"new-password2"}),cr({className:"h2 f7 light-red",id:"new-password2-message"})))))},vr=z.section,gr=z.div,br=new sr,wr=z.section,Sr=z.div,Er=z.h1,Nr=z.p,_r=z.a;function Ar(e,t){return wr({className:"mt0"},Sr({id:"welcome"},Er({className:"db mv0 f2 tracked pb2"},"Welcome"),Nr("Now you can configure this ZeroTier Edge"),Nr(_r({href:"/settings"},"Settings"))))}var Tr={};function Or(e){if(!(this instanceof Or))return new Or(e);"number"==typeof e&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}Tr=Or,Object.defineProperty(Or.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),Or.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},Or.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},Or.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},Or.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},Or.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},Or.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge&&(this.remove(e),1))},Or.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},Or.prototype.evict=function(){this.tail&&this.remove(this.tail)};var Lr={};function Ir(e,t,n){this.cache="number"==typeof n?new Tr(n):n||new Tr(100),this.state=e,this.emit=t}function kr(e){return new(e.bind.apply(e,arguments))}"function"==typeof Symbol&&Symbol.iterator,Lr=Ir,Ir.prototype.render=function(e,t){var n=this.cache.get(t);if(!n){for(var r=[],o=2,i=arguments.length;o<i;o++)r.push(arguments[o]);r.unshift(e,t,this.state,this.emit),n=kr.apply(kr,r),this.cache.set(t,n)}return n},"function"==typeof Symbol&&Symbol.iterator;var Cr=function(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})},Dr=function(e,t,n){var r,o=e.length;if(!(t>=o||0===n)){var i=o-(n=t+n>o?o-t:n);for(r=t;r<i;++r)e[r]=e[r+n];e.length=i}},Pr={};"function"==typeof Symbol&&Symbol.iterator;function jr(e){if(!(this instanceof jr))return new jr(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}Pr=jr,jr.prototype.emit=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var o=Mt(this._name+"('"+e+"')"),i=this._listeners[e];return i&&i.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},jr.prototype.on=jr.prototype.addListener=function(e,t){return"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},jr.prototype.prependListener=function(e,t){return"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},jr.prototype.once=function(e,t){var n=this;return this.on(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},jr.prototype.prependOnceListener=function(e,t){var n=this;return this.prependListener(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},jr.prototype.removeListener=function(e,t){return"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(Dr(e,n,1),!0):void 0}}},jr.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},jr.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,o=0;o<r;o++)n.push(t[o]);return n},jr.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var o=e.length,i=0;i<o;i++){var s=e[i];s.apply(s,n)}}},"function"==typeof Symbol&&Symbol.iterator;var xr=/(noopener|noreferrer) (noopener|noreferrer)/,Mr=/^[\w-_]+:/;"function"==typeof Symbol&&Symbol.iterator;var Rr=/([^?=&]+)(=([^&]*))?/g;"function"==typeof Symbol&&Symbol.iterator;var Hr=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Ur.call(n,r)&&(e[r]=n[r])}return e},Ur=Object.prototype.hasOwnProperty,qr={};"function"==typeof Symbol&&Symbol.iterator;function Gr(){if(!(this instanceof Gr))return new Gr;this.trie={nodes:{}}}qr=Gr,Gr.prototype.create=function(e){var t=e.replace(/^\//,"").split("/");return function e(n,r){var o=t.hasOwnProperty(n)&&t[n];if(!1===o)return r;var i=null;return/^:|^\*/.test(o)?(r.nodes.hasOwnProperty("$$")?i=r.nodes.$$:(i={nodes:{}},r.nodes.$$=i),"*"===o[0]&&(r.wildcard=!0),r.name=o.replace(/^:|^\*/,"")):r.nodes.hasOwnProperty(o)?i=r.nodes[o]:(i={nodes:{}},r.nodes[o]=i),e(n+1,i)}(0,this.trie)},Gr.prototype.match=function(e){var t=e.replace(/^\//,"").split("/"),n={},r=function e(r,o){if(void 0!==o){var i=t[r];if(void 0===i)return o;if(o.nodes.hasOwnProperty(i))return e(r+1,o.nodes[i]);if(o.name){try{n[o.name]=decodeURIComponent(i)}catch(t){return e(r,void 0)}return e(r+1,o.nodes.$$)}if(o.wildcard){try{n.wildcard=decodeURIComponent(t.slice(r).join("/"))}catch(t){return e(r,void 0)}return o.nodes.$$}return e(r+1)}}(0,this.trie);if(r)return(r=a(r)).params=n,r},Gr.prototype.mount=function(e,t){var n=e.replace(/^\//,"").split("/"),r=null,o=null;if(1===n.length)o=n[0],r=this.create(o);else{var i=n.join("/");o=n[0],r=this.create(i)}Hr(r.nodes,t.nodes),t.name&&(r.name=t.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),Hr(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)},"function"==typeof Symbol&&Symbol.iterator;var Kr=function e(t){if(!(this instanceof e))return new e(t);var n=(t||"").replace(/^\//,""),r=qr();return o._trie=r,o.on=function(e,t){var n=t._wayfarer&&t._trie?t:function(){return t.apply(this,Array.prototype.slice.call(arguments))};(e=e||"/",n.route=e,n._wayfarer&&n._trie)?r.mount(e,n._trie.trie):r.create(e).cb=n;return o},o.emit=o,o.match=i,o._wayfarer=!0,o;function o(e){var t=i(e),n=new Array(arguments.length);n[0]=t.params;for(var r=1;r<n.length;r++)n[r]=arguments[r];return t.cb.apply(t.cb,n)}function i(e){var t=r.match(e);if(t&&t.cb)return new s(t);var o=r.match(n);if(o&&o.cb)return new s(o);throw new Error("route '"+e+"' did not match")}function s(e){this.cb=e.cb,this.route=e.cb.route,this.params=e.params}},Fr={},Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br=/file:\/\//.test("object"===("undefined"==typeof window?"undefined":Vr(window))&&window.location&&window.location.origin),Yr=new RegExp("^(file://|/)(.*.html?/?)?"),$r=new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),Wr=new RegExp("#"),Xr=new RegExp("[?].*$");function Zr(e){if(!(this instanceof Zr))return new Zr(e);e=e||{},this.router=Kr(e.default||"/404")}function zr(e,t){return e=t?e.replace(Yr,""):e.replace($r,""),decodeURI(e.replace(Xr,"").replace(Wr,"/"))}Fr=Zr,Zr.prototype.on=function(e,t){e=e.replace(/^[#/]/,""),this.router.on(e,t)},Zr.prototype.emit=function(e){return e=zr(e,Br),this.router.emit(e)},Zr.prototype.match=function(e){return e=zr(e,Br),this.router.match(e)};var Jr=function(e,t){if(e)try{var n=document.querySelector(e);n&&n.scrollIntoView(t)}catch(e){}},Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo=no,to={};function no(e){if(!(this instanceof no))return new no(e);e=e||{};var t=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===e.history||e.history,this._hrefEnabled=void 0===e.href||e.href,this._hashEnabled=void 0===e.hash||e.hash,this._hasWindow="undefined"!=typeof window,this._cache=e.cache,this._loaded=!1,this._stores=[],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?a(window.initialState,n):n,delete window.initialState):this.state=n,this.router=Fr({curry:!0}),this.emitter=Pr("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(e){t.state.title=e,t._hasWindow&&(document.title=e)})}no.prototype.route=function(e,t){this.router.on(e,t)},no.prototype.use=function(e){var t=this;this._stores.push(function(n){var r="choo.use";r=e.storeName?r+"("+e.storeName+")":r;var o=Mt(r);e(n,t.emitter,t),o()})},no.prototype.start=function(){var e,t,n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(Jr.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(to,null,e),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(to,null,e),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&(e=function(e){var t=e.href,r=e.hash;t!==window.location.href?n.emitter.emit(n._events.PUSHSTATE,t):!this._hashEnabled&&r&&Jr(r)},t=t||window.document,window.addEventListener("click",function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.defaultPrevented)){var r=function e(n){if(n&&n!==t)return"a"!==n.localName||void 0===n.href?e(n.parentNode):n}(n.target);r&&(window.location.protocol!==r.protocol||window.location.hostname!==r.hostname||window.location.port!==r.port||r.hasAttribute("data-nanohref-ignore")||r.hasAttribute("download")||"_blank"===r.getAttribute("target")&&xr.test(r.getAttribute("rel"))||Mr.test(r.getAttribute("href"))||(n.preventDefault(),e(r)))}}))),this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),this.emitter.prependListener(n._events.RENDER,function(e,t){t||(t=window.requestAnimationFrame);var n=!1,r=null;return function(){null!==r||n||(n=!0,t(function(){n=!1;for(var t=r.length,o=new Array(t),i=0;i<t;i++)o[i]=r[i];e.apply(e,o),r=null})),r=arguments}}(function(){var e=Mt("choo.render"),t=n._prerender(n.state),r=Mt("choo.morph");Lt(n._tree,t),r(),e()})),Cr(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},no.prototype.mount=function(e){if("object"!==("undefined"==typeof window?"undefined":Qr(window)))return this.selector=e,this;var t=this;Cr(function(){var n=Mt("choo.render"),r=t.start();t._tree="string"==typeof e?document.querySelector(e):e;var o=Mt("choo.morph");Lt(t._tree,r),o(),n()})},no.prototype.toString=function(e,t){this.state=a(this.state,t||{});var n=this;this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(e);var r=this._prerender(this.state);return"string"==typeof r.outerHTML?r.outerHTML:r.toString()},no.prototype._matchRoute=function(e){var t,n;e?(t=e.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(t=t.replace(/#.+$/,"")),n=e):(t=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(t+=window.location.hash.replace(/^#/,"/")),n=window.location.search);var r,o=this.router.match(t);return this._handler=o.cb,this.state.href=t,this.state.query=(r={},n.replace(/^.*\?/,"").replace(Rr,function(e,t,n,o){r[decodeURIComponent(t)]=decodeURIComponent(o)}),r),this.state.route=o.route,this.state.params=o.params,this.state},no.prototype._prerender=function(e){var t=Mt("choo.prerender('"+e.route+"')"),n=this._handler(e,this.emit);return t(),n},no.prototype._setCache=function(e){var t=new Lr(e,this.emitter.emit.bind(this.emitter),this._cache);function n(e,n){for(var r=[],o=0,i=arguments.length;o<i;o++)r.push(arguments[o]);return t.render.apply(t,r)}e.cache=n,n.toJSON=function(){return null}};var ro={exports:{}},oo={get:function(e,t){c.get("/api/"+e,{json:!0},function(e,n,r){if(e)return t(e);t(null,n)})},put:function(e,t,n){c.put("/api/"+e,{json:!0,data:t},function(e,t,r){if(e)return n(e);n(null,t)})},post:function(e,t,n){c.post("/api/"+e,{json:!0,data:t},function(e,t,r){if(e)return n(e);n(null,t)})},delete:function(e,t,n){c.del("/api/"+e+"/"+t,{json:!0},function(e,t,r){if(e)return n(e);n(null,t)})}},io=eo();io.use(function(e,t){t.on("DOMContentLoaded",function(){})}),io.use(function(e){return function(t,n){function r(e){t.edge=Object.assign(t.edge,e),t.edgeEdited=!0,u()}function o(e,n){t.edgeEdited=!0,t.edge.dns=t.edge.dns||[],t.edge.dns.splice(e,1,n),t.edge.dns=t.edge.dns.filter(function(e){return e}),u()}function i(){t.edgeMachine=T.Loading,u(),e.get("edge",function(e,n){e?(t.edgeMachine=T.Error(e),t.edge={}):200===n.statusCode?(t.edgeMachine=T.Success(n.body||{}),t.edge=n.body||{}):(t.edgeMachine=T.Error(n.body),t.edge={}),u()})}function s(){t.edgeMachine=T.Saving(t.edge),u(),e.put("edge",t.edge,function(e,n){e?t.edgeMachine=T.Error(e):200===n.statusCode?(t.edgeMachine=T.Success(n.body||{}),t.edge=n.body||{},t.edgeEdited=!1):t.edgeMachine=T.Error(n.body),u()})}function a(){"device"===t.route&&t.edgeMachine.cata({NotAsked:i,Loading:O,Success:O,Error:i,Saving:O})}function u(){t.edgeMachineVector++,n.emit("render")}t.edge={},t.edgeMachine=T.NotAsked,t.edgeMachineVector=0,t.edgeEdited=!1,t.httpAdminAddresses={},t.httpAdminEdited=!1,t.httpAdminMachine="NotAsked",t.events.EDGE_GET="edge:get",t.events.EDGE_EDIT="edge:edit",t.events.EDGE_EDIT_DNS="edge:editdns",t.events.EDGE_SUBMIT="edge:submit",n.on(t.events.DOMCONTENTLOADED,function(){n.on(t.events.NAVIGATE,a),n.on(t.events.EDGE_EDIT,r),n.on(t.events.EDGE_EDIT_DNS,o),n.on(t.events.EDGE_SUBMIT,s),n.on(t.events.SESSIONS_LOGIN,function(e){a(),A(function(){i()})})})}}(oo)),io.use(function(e){return function(t,n){function r(e){var n=e.address;t.httpAdminAddresses[n]?delete t.httpAdminAddresses[n]:t.httpAdminAddresses[n]=!0}function o(){t.httpAdminLoading=!0,s(),e.post("http-listen",t.httpAdminAddresses,function(e,n){t.httpAdminLoading=!1,e?t.httpAdminError="Network error":200===n.statusCode?(t.httpAdminAddresses=n.body,t.httpAdminError=null):t.httpAdminError=n.body.message||"Something went wrong",s()})}function i(){t.httpAdminLoading=!0,s(),e.post("restart",{},function(e,r){t.httpAdminLoading=!1,e?t.httpAdminError="Network error":200===r.statusCode?(t.httpAdminError=null,setTimeout(function(){n.emit(t.events.SESSIONS_LOGIN)},4e3)):t.httpAdminError=r.body.message||"Something went wrong",setTimeout(s,1e3)})}function s(){t.httpAdminVector++,n.emit("render")}function a(){t.httpAdminLoading=!0,s(),e.get("http-listen",function(e,n){t.httpAdminLoading=!1,e?t.httpAdminError="Network error":200===n.statusCode?(t.httpAdminAddresses=n.body,t.httpAdminError=null):t.httpAdminError=n.body.message||"Something went wrong",s()})}t.httpAdminAddresses={},t.httpAdminEdited=!1,t.httpAdminLoading=!1,t.httpAdminError=null,t.httpAdminVector=0,t.events.HTTP_LISTEN_LOAD="httpadmin:load",t.events.HTTP_LISTEN_EDIT="httpadmin:listen",t.events.HTTP_LISTEN_SUBMIT="httpadmin:submit",t.events.HTTP_LISTEN_RESTART="httpadmin:restart",n.on(t.events.DOMCONTENTLOADED,function(){n.on(t.events.HTTP_LISTEN_EDIT,r),n.on(t.events.HTTP_LISTEN_SUBMIT,o),n.on(t.events.HTTP_LISTEN_RESTART,i),n.on(t.events.HTTP_LISTEN_LOAD,a),n.on(t.events.SESSIONS_LOGIN,function(e){"device"===t.route&&a()})})}}(oo)),io.use(function(e){return function(t,n){function r(e){t.interfaces[e]={name:e,addresses:[],type:"ethernet",autoconf:["dhcp4","dhcp6","slaac"],prohibit:["dhcp4","dhcp6","ipv6-ra"],mode:"ap"},t.interfacesEdited=!0,m()}function o(e,n){t.interfaces[e]=Object.assign(t.interfaces[e],n),t.interfacesEdited=!0,m()}function i(e,n,r){t.interfaces[e].prohibit=t.interfaces[e].prohibit||[],t.interfacesEdited=!0,r?t.interfaces[e].prohibit.push(n):t.interfaces[e].prohibit=t.interfaces[e].prohibit.filter(function(e){return e!==n}),m()}function s(e,n,r){t.interfaces[e].autoconf=t.interfaces[e].autoconf||[],t.interfacesEdited=!0,r?t.interfaces[e].autoconf.push(n):t.interfaces[e].autoconf=t.interfaces[e].autoconf.filter(function(e){return e!==n}),m()}function a(e){delete t.interfaces[e],t.interfacesEdited=!0,m()}function u(e){delete t.addresses[e],t.interfacesEdited=!0,m()}function c(e){var n=ot();t.addresses[n]=function(t,n){return{proto:"static",family:"ipv4",mask:24,gateway:"",address:"",iface:e,tempId:n}}(0,n),t.interfacesEdited=!0,m()}function l(e,n,r){t.addresses[e][n]=r,t.interfacesEdited=!0,m()}function d(){t.interfacesMachine=lt.Loading,m(),e.get("physical",function(e,n){if(e)t.interfacesMachine=lt.Error(e);else if(200===n.statusCode){t.interfacesMachine=lt.Success(n.body);var r=ut(n.body||[]),o=r.interfaces,i=r.addresses;t.interfaces=o,t.addresses=i,t.interfacesEdited=!1}else t.interfacesMachine=lt.Error(n.body);m()})}function f(){var n=ct(t.interfaces,t.addresses);t.interfacesMachine=lt.Saving(n),m(),e.put("physical",n,function(e,n){if(e)t.interfacesMachine=lt.Error(new Error("Network Error."));else if(200===n.statusCode){t.interfacesMachine=lt.Success(n.body||[]);var r=ut(n.body||[]),o=r.interfaces,i=r.addresses;t.interfaces=o,t.addresses=i,t.interfacesEdited=!1}else t.interfacesMachine=lt.Error(n.body);m()})}function h(){t.osInterfacesMachine=dt.Loading,m(),e.get("interfaces",function(e,n){e?(t.osInterfacesMachine=dt.Error(e),t.osInterfaces=[]):200===n.statusCode?(t.osInterfacesMachine=dt.Success(n.body||[]),t.osInterfaces=n.body||[]):(t.osInterfacesMachine=dt.Error(n.body),t.osInterfaces=[]),m()})}function p(){"settings"!==t.route&&"/"!==t.route||(t.interfacesMachine.cata({NotAsked:d,Loading:ft,Success:ft,Error:d,Saving:ft}),t.osInterfacesMachine.cata({NotAsked:h,Loading:ft,Success:ft,Error:h,Saving:ft}))}function m(){t.interfacesClock++,n.emit("render")}t.interfacesClock=0,t.interfacesEdited=!1,t.interfacesMachine=lt.NotAsked,t.osInterfacesMachine=dt.NotAsked,t.interfaces={},t.addresses={},t.osInterfaces=[],t.prohibit={},t.events.PHYSICAL_GET="physical:get",t.events.PHYSICAL_SUBMIT="physical:put",t.events.PHYSICAL_CREATE="physical:create",t.events.PHYSICAL_DELETE="physical:delete",t.events.PHYSICAL_UPDATE="physical:update",t.events.PHYSICAL_AUTO="physical:auto",t.events.ADDRESS_CREATE="address:create",t.events.ADDRESS_UPDATE="address:update",t.events.ADDRESS_DELETE="address:delete",t.events.BRIDGE_PROHIBIT="physical:block",t.constants=t.constants||{},t.constants.IP_FAMILIES=["ipv4","ipv6"],t.constants.IP_PROTOS=["static","dhcp"],t.constants.AUTO_CONFS=["dhcp4","dhcp6","slaac"],t.constants.BRIDGE_PROHIBIT=["dhcp4","dhcp6","ipv6-ra"],t.constants.WIFI_MODES=["ap","client"],t.constants.WIFI_CHANS=[1,2,3,4,5,6,7,8,9,10,11,36,40,44,48,149,153,157,161,165],n.on(t.events.DOMCONTENTLOADED,function(){n.on(t.events.NAVIGATE,p),n.on(t.events.PHYSICAL_CREATE,r),n.on(t.events.PHYSICAL_UPDATE,o),n.on(t.events.PHYSICAL_AUTO,s),n.on(t.events.PHYSICAL_SUBMIT,f),n.on(t.events.PHYSICAL_DELETE,a),n.on(t.events.BRIDGE_PROHIBIT,i),n.on(t.events.ADDRESS_CREATE,c),n.on(t.events.ADDRESS_UPDATE,l),n.on(t.events.ADDRESS_DELETE,u),n.on(t.events.SESSIONS_LOGIN,function(e){p(),A(function(){d()})})})}}(oo)),io.use(function(e,t){function n(){e.sessions.get(),t.emit(e.events.PUSHSTATE,"/welcome")}function r(){t.emit("update")}function o(){t.emit("render")}e.sessions=k("sessions",e,r),e.passwords=k("passwords",e,r),e.logoutEventSource=null,e.events.SESSIONS_LOGIN="sessions:login",e.events.SESSIONS_LOGOUT="sessions:logout",e.events.SESSIONS_CREATE="sessions:create",e.events.SESSIONS_DELETE="sessions:delete",e.events.PASSWORD_UPDATE="password:update",e.events.INIT_CREATE="init:create",t.on("DOMContentLoaded",function(){e.sessions.get(function(n){n.cata({NotLoaded:C,Loading:C,Error:C,Failure:e.init.get,Success:function(){t.emit(e.events.SESSIONS_LOGIN)}})})}),t.on(e.events.SESSIONS_LOGIN,function(n){o(),e.logoutEventSource||(e.logoutEventSource=new EventSource("/api/sse"),e.logoutEventSource.onmessage=function(n){try{"logout"===JSON.parse(n.data).type&&t.emit(e.events.SESSIONS_LOGOUT)}catch(e){console.log("something went wrong in server sent event source")}})}),t.on(e.events.SESSIONS_CREATE,function(n){e.sessions.post(n,function(n){t.emit(e.events.SESSIONS_LOGIN),o()})}),t.on(e.events.SESSIONS_DELETE,function(t){e.sessions.delete(function(e){o()})}),t.on(e.events.SESSIONS_LOGOUT,function(t){e.sessions.get(function(e){o()})}),t.on(e.events.INIT_CREATE,function(t){o(),e.init.post(t,function(e){e.cata({NotLoaded:C,Loading:C,Error:C,Failure:C,Success:n})})}),t.on(e.events.PASSWORD_UPDATE,function(t){t.username=e.sessions.value.username,e.passwords.put(t,function(e){})})}),io.use(function(e){return function(t,n){function r(){t.sshKeysLoading=!0,a(),e.get("ssh-keys",function(e,n){t.sshKeysLoading=!1,e?t.sshKeysError="Network error":200===n.statusCode?(t.sshKeys=n.body,t.sshKeysError=null):t.sshKeysError=n.body.message||"Something went wrong",a()})}function o(n){t.sshKeysLoading=!0,a(),e.put("ssh-keys",{sshKey:n},function(e,n){t.sshKeysLoading=!1,e?t.sshKeysError="Network error":200===n.statusCode?(t.sshKeys=n.body,t.sshKeysError=null):t.sshKeysError=n.body.message||"Something went wrong",a()})}function i(n){t.sshKeysLoading=!0,a(),e.delete("ssh-keys",n,function(e,n){t.sshKeysLoading=!1,e?t.sshKeysError="Network error":200===n.statusCode?(t.sshKeysError=null,r()):t.sshKeysError=n.body.message||"Something went wrong",a()})}function s(){"user"===t.route&&r()}function a(){t.sshKeysVector++,n.emit("render")}t.sshKeys=[],t.sshKeysVector=0,t.sshKeysLoading=!1,t.sshKeysError=null,t.events.SSH_KEYS_PUT="sshkey:put",t.events.SSH_KEYS_DEL="sshkey:del",t.events.SSH_KEYS_LOAD="sshkey:load",n.on(t.events.DOMCONTENTLOADED,function(){n.on(t.events.SSH_KEYS_PUT,o),n.on(t.events.SSH_KEYS_DEL,i),n.on(t.events.SSH_KEYS_LOAD,r),n.on(t.events.NAVIGATE,s),n.on(t.events.SESSIONS_LOGIN,function(e){s()})})}}(oo)),io.use(function(e){return function(t,n){function r(){A(function(){a(),setTimeout(r,1e4)})}function o(){n.emit("update")}function i(){"status"===t.route&&(n.emit("render"),a())}function s(){e.get("addresses",function(e,r){e&&qn.error(e),200===r.statusCode&&(t.osAddresses=r.body,n.emit("render"))})}function a(){e.get("addresses",function(r,o){r&&qn.error(r),200===o.statusCode&&(t.osAddresses=o.body,n.emit("render")),e.get("list-networks",function(r,o){r&&qn.error(r),200===o.statusCode&&(t.listNetworks=o.body,n.emit("render")),e.get("list-peers",function(e,r){e&&qn.error(e),200===r.statusCode&&(t.listPeers=r.body,t.listPeersClock++,n.emit("render"))})})})}t.init=k("init",t,o),t.status=k("status",t,o),t.version="0.5.0",t.osAddresses={},t.listNetworks=[],t.listPeers=[],t.listPeersClock=0,t.events.OS_ADDRESSES_GET="osaddresses:get",n.on(t.events.DOMCONTENTLOADED,function(){n.on(t.events.NAVIGATE,i),n.on(t.events.OS_ADDRESSES_GET,s),t.status.get(),n.on(t.events.SESSIONS_LOGIN,function(e){i(),r()})}),n.on("update",function(){n.emit(t.events.RENDER)})}}(oo)),io.use(function(e){return function(t,n){t.toml="",t.tomlMachine=ht.NotAsked,t.tomlMachineVector=0,t.events.TOML_GET="toml:get",n.on(t.events.DOMCONTENTLOADED,function(){function r(){t.tomlMachine=ht.Loading,o(),e.get("toml",function(e,n){e?(t.tomlMachine=ht.Error(e),t.toml={}):200===n.statusCode?(t.tomlMachine=ht.Success(n.body||{}),t.toml=n.body||""):(t.tomlMachine=ht.Error(n.body),t.toml=""),o()})}function o(){t.tomlMachineVector++,n.emit("render")}n.on(t.events.SESSIONS_LOGIN,function(e){"settings"===t.route&&t.tomlMachine.cata({NotAsked:r,Loading:pt,Success:pt,Error:r,Saving:pt})})})}}(oo)),io.use(function(e,t){e.updateMachine=Cn.NotAsked,e.updateMachineVector=0,e.updateLog=[],e.events.UPDATE_GET="software:update",e.events.UPGRADE_GET="software:upgrade";var n=null;function r(){n||(e.updateLog=[],(n=new EventSource("/api/software/update")).onmessage=function(t){try{var r=JSON.parse(t.data);"exit"===r.type?(e.updateLog.push(0===r.value?String.fromCodePoint(10024):String.fromCodePoint(128680)),n.close(),n=null,i()):r.value&&(e.updateLog.push(r.value),i())}catch(e){console.log("something went wrong in server sent event source")}})}function o(){n||(e.updateLog=[],(n=new EventSource("/api/software/upgrade")).onmessage=function(t){try{var r=JSON.parse(t.data);"exit"===r.type?(e.updateLog.push(0===r.value?String.fromCodePoint(10024):String.fromCodePoint(128680)),n.close(),n=null,i()):r.value&&(e.updateLog.push(r.value),i())}catch(e){console.log("something went wrong in server sent event source")}})}function i(){e.updateMachineVector++,t.emit("render")}t.on(e.events.DOMCONTENTLOADED,function(){t.on(e.events.UPDATE_GET,r),t.on(e.events.UPGRADE_GET,o)})}),io.route("/",kn),io.route("/login",Be),io.route("/settings",kn),io.route("/status",function(e,t){"ZeroTier - Edge - Status"!==e.title&&t(e.events.DOMTITLECHANGE,"ZeroTier - Edge - Status");var n=_e(e,t);return e.sessions.cata({NotLoaded:o,Loading:o,Error:o,Failure:o,Success:function(){return n(r)}});function r(){return Vn({},Bn({id:"settings",className:"cf"},$n({className:"dib mv0 f2 tracked"},"Status"),Bn({className:"fl w-100 mb4"},Bn({className:"mt4 code f7"},function(e,t){return Vn({id:"list-phy"},Wn({className:"dib mv0 f3 tracked"},"Interfaces"),Object.keys(e.osAddresses).sort().map(function(t){return Vn({className:"mv4"},Wn(t),zn(e.osAddresses[t]))}))}(e),function(e,t){return Vn({id:"list-networks"},Wn({className:"dib mv0 f3 tracked"},"ZeroTier Networks"),e.listNetworks.sort(function(e,t){return e.id>t.id?1:-1}).map(function(e){return Vn({className:"mv4",style:"word-wrap: break-word;"},Wn(""+e.id),Xn(""+e.name),zn(e))}))}(e),e.cache(Zn,"peers").render(e)))))}function o(){return Be(e,t)}}),io.route("/update",function(e,t){"ZeroTier - Edge - Home"!==e.title&&t(e.events.DOMTITLECHANGE,"ZeroTier - Edge - Home");var n=_e(e,t);return e.sessions.cata({NotLoaded:o,Loading:o,Error:o,Failure:o,Success:function(){return n(r)}});function r(e,t){return Hn({},Un({id:"main",className:"cf"},Un({className:"fl w-100 mb4"},Rn(e,t))))}function o(){return Be(e,t)}}),io.route("/user",function(e,t){"ZeroTier - Edge - User"!==e.title&&t(e.events.DOMTITLECHANGE,"ZeroTier - Edge - User");var n=_e(e,t);return e.sessions.cata({NotLoaded:i,Loading:i,Error:i,Failure:i,Success:function(){return n(r)}});function r(e,t){return vr({className:"user-view"},vr({id:"change-password",className:"cf pb4"},gr(o())),vr({id:"ssh-keys",className:"cf pv4"},gr(br.render(e,t))))}function o(){return e.sessions.cata({NotLoaded:function(){},Loading:function(){},Error:function(){},Failure:function(){return"You need to login!"},Success:function(){return yr(e,t)}})}function i(){return Be(e,t)}}),io.route("/welcome",function(e,t){return"ZeroTier - Edge - Welcome"!==e.title&&t(e.events.DOMTITLECHANGE,"ZeroTier - Edge - Welcome"),_e(e,t)(Ar)}),io.debug=!1,io.mount("body"),ro=ro.exports}();
//# sourceMappingURL=bundle.js.map